# pg_hba.conf - Configuración de autenticación
# PostgreSQL 15 - Nodo Solo Lectura
# Proyecto: Sistema Alta Disponibilidad - Pollo Sanjuanero S.A.

# TIPO  BASE_DATOS    USUARIO           DIRECCIÓN         MÉTODO_AUTH

# Conexiones locales
local   all           postgres                            trust
local   all           all                                 md5

# Conexiones IPv4 locales:
host    all           postgres          127.0.0.1/32      trust
host    all           all               127.0.0.1/32      md5

# Conexiones IPv6 locales:
host    all           all               ::1/128           md5

# Permite conexiones desde cualquier host (para aplicaciones de lectura)
host    all           all               0.0.0.0/0         md5

# CONFIGURACIÓN DE REPLICACIÓN
# Este nodo es solo lectura, pero necesita recibir datos de replicación
# NO necesita configuración de replication para otros nodos

# Permite conexiones desde otros nodos para monitoreo
host    all           postgres          172.16.0.0/12     md5

# Configuración específica para aplicaciones de solo lectura
# Se puede crear usuarios específicos para aplicaciones que solo lean datos
# host    all           readonly_user     0.0.0.0/0         md5